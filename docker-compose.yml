version: "2.3"
services:
  anaconda:
    build: ./anaconda
    image: sjtug/anaconda-test:1.0
  cargo:
    build: ./cargo
    image: sjtug/cargo-test:1.0
  mongodb:
    build: ./mongodb
    image: sjtug/mongodb-test:1.0
  ubuntu:
    build: ./ubuntu
    image: sjtug/ubuntu-test:1.0
  julia:
    build: ./julia
    image: sjtug/julia-test:1.0
  flathub:
    build: ./flathub
    image: sjtug/flathub-test:1.0
  archlinux:
    build: ./archlinux
    image: sjtug/archlinux-test:1.0
  julia_with_conda:
    build: ./julia_with_conda
    image: sjtug/julia-conda-test:1.0
  rustup:
    build: ./rustup
    image: sjtug/rustup-test:1.0
  emacs-elpa:
    build: ./emacs-elpa
    image: sjtug/emacs-elpa-test:1.0
  alpine:
    build: ./alpine
    image: sjtug/alpine-test:1.0
  opam:
    build: ./opam
    image: sjtug/opam-test:1.0
  pypi:
    build: ./pypi
    image: sjtug/pypi-test:1.0
  dart:
    build: ./dart
    image: sjtug/dart-test:1.0
  fedora:
    build: ./fedora
    image: sjtug/fedora-test:1.0
  centos:
    build: ./centos
    image: sjtug/centos-test:1.0
  openwrt:
    build: ./openwrt
    image: sjtug/openwrt-test:1.0
  rpmfusion:
    build: ./rpmfusion
    image: sjtug/rpmfusion-test:1.0
  epel:
    build: ./epel
    image: sjtug/epel-test:1.0
  opensuse:
    build: ./opensuse
    image: sjtug/opensuse-test:1.0
  guix:
    build: ./guix
    image: sjtug/guix-test:1.0
  fedora-ostree:
    build: ./fedora-ostree
    image: sjtug/fedora-ostree-test:1.0
  pytorch:
    image: python:3.8
    command: pip install torch==1.7.1+cu101 torchvision==0.8.2+cu101 torchaudio==0.7.2 -f https://mirror.sjtu.edu.cn/pytorch-wheels/torch_stable.html
  debian:
    build: ./debian
    image: sjtug/debian-test:1.0
  flutter:
    build: ./flutter
    image: sjtug/flutter-test:1.0
  nixos:
    build: ./nixos
    image: sjtug/nixos-test:1.0
